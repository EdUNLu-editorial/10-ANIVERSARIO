<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aniversario Editorial Universitaria</title>
    <!-- CDN de Tailwind CSS para estilos modernos -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts para la fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- API de Iframe de YouTube Player -->
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
        /* --- ESTILOS GENERALES Y RESETEO --- */
        html {
            scroll-behavior: smooth; /* Desplazamiento suave para los anclajes */
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif; /* Usando Inter como base para todo el body */
            color: #fff; /* Color de texto predeterminado */
            background-color: #0da353; /* Color de fondo inicial para la sección de inicio */
            overflow-x: hidden; /* Evita el scroll horizontal */
            overscroll-behavior-y: none; /* Evita el efecto "rebote" al final del scroll */
            transition: background-color 0.8s ease; /* Transición suave para el cambio de color de fondo */
        }

        /* Estilos CSS personalizados para el efecto de Slider 3D - conservando la lógica original */
        .banner {
            width: 100%;
            height: 100vh;
            text-align: center;
            overflow: hidden;
            position: relative;
            background: linear-gradient(to bottom, #FFFFFF, #F0FFF0); /* Fondo con gradiente actualizado */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .banner .slider {
            position: absolute;
            width: 200px; /* Ancho base de cada portada de libro */
            height: 280px; /* Alto base de cada portada de libro */
            top: 15%; /* Ajustado para un mejor centrado vertical */
            left: calc(50% - 100px); /* Centrado horizontal */
            transform-style: preserve-3d; /* Preserva la transformación 3D de los hijos */
            transform: perspective(1000px); /* Perspectiva para el efecto 3D */
            animation: autoRun 20s linear infinite; /* Animación para rotación automática */
            z-index: 20; /* Aumentado el z-index para que el slider esté por encima del logo */
        }

        @keyframes autoRun {
            from {
                transform: perspective(1000px) rotateX(-16deg) rotateY(0deg);
            }
            to {
                transform: perspective(1000px) rotateX(-16deg) rotateY(360deg);
            }
        }

        .banner .slider .item {
            position: absolute;
            inset: 0 0 0 0; /* Ocupa todo el espacio del padre */
            /* Calcula la posición y profundidad para el efecto 3D basado en variables CSS */
            transform:
                rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
                translateZ(550px); /* Distancia desde el centro del círculo */
            border-radius: 8px; /* Bordes redondeados para las portadas de libros */
            overflow: hidden; /* Asegura que la imagen no se desborde */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3); /* Sombra suave para profundidad */
            transition: transform 0.5s ease-out; /* Transición suave para posibles interacciones futuras */
        }

        .banner .slider .item img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Asegura que las imágenes cubran el área del item */
            border-radius: 8px; /* Aplica bordes redondeados también a las imágenes */
            /* Transición de opacidad y filtro para un cambio suave */
            transition: opacity 0.5s ease-in-out, filter 0.5s ease-in-out;
        }

        .banner .content {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: min(1400px, 100vw);
            height: max-content;
            padding-bottom: 80px; /* Espacio desde la parte inferior */
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            z-index: 1;
        }

        .banner .content .author-info {
            text-align: right;
            max-width: 250px;
            padding-right: 20px;
        }

        .banner .content .author-info h2 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #444;
        }
        .banner .content .author-info p {
            font-size: 1.1em;
            color: #666;
            line-height: 1.4;
        }

        /* Ajustes responsivos para el banner */
        @media screen and (max-width: 1023px) {
            .banner .slider {
                width: 160px;
                height: 220px;
                left: calc(50% - 80px);
                top: 10%;
            }
            .banner .slider .item {
                transform:
                    rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
                    translateZ(300px);
            }
            .banner .content .author-info {
                text-align: center;
                max-width: unset;
                width: 100%;
                padding: 0 30px;
                margin-top: 30px;
            }
        }

        @media screen and (max-width: 767px) {
            .banner {
                height: 80vh;
            }
            .banner .slider {
                width: 120px;
                height: 180px;
                left: calc(50% - 60px);
                top: 8%;
            }
            .banner .slider .item {
                transform:
                    rotateY(calc((var(--position) - 1) * (360 / var(--quantity)) * 1deg))
                    translateZ(200px);
            }
            .banner .content {
                padding-bottom: 40px;
            }
            .banner .content .author-info h2 {
                font-size: 1.8em;
            }
            .banner .content .author-info p {
                font-size: 0.9em;
            }
        }

        /* Estilos específicos de la línea de tiempo */
        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 0;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: #e2e8f0; /* Tailwind gray-200 */
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }

        .timeline-container {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
        }

        .timeline-container::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            right: -17px;
            background-color: #cbd5e1; /* Tailwind gray-300 */
            border: 4px solid #0da353; /* Cambiado a verde */
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .left-timeline {
            left: 0;
        }

        .right-timeline {
            left: 50%;
        }

        .left-timeline::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid white;
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent white;
        }

        .right-timeline::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid white;
            border-width: 10px 10px 10px 0;
            border-color: transparent white transparent transparent;
        }

        .right-timeline::after {
            left: -16px;
        }

        .timeline-content {
            padding: 20px 30px;
            background-color: white;
            position: relative;
            border-radius: 0px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .timeline-content:hover {
            box-shadow: 0 1px 9px rgba(70, 201, 120, 0.986);
        }

        /* Media queries para la responsividad de la línea de tiempo */
        @media screen and (max-width: 768px) {
            .timeline::after {
                left: 31px;
            }
            .timeline-container {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            .timeline-container::before {
                left: 60px;
                border: medium solid white;
                border-width: 10px 10px 10px 0;
                border-color: transparent white transparent transparent;
            }
            .left-timeline::after, .right-timeline::after {
                left: 15px;
            }
            .right-timeline {
                left: 0%;
            }
        }

        /* --- IMAGEN FLOTANTE (NUEVOS ESTILOS) --- */
        #floating-image {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            max-width: 30vw;
            max-height: 40vh;
            object-fit: contain;
            z-index: 1000;
            transition: opacity 0.4s ease-in-out;
            pointer-events: none; /* La imagen no interfiere con el ratón */
        }

        .fade-out {
            opacity: 0;
        }

        /* --- ESTRUCTURA DE SECCIONES Y CONTENIDO (NUEVOS ESTILOS) --- */
        .section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 2rem;
            box-sizing: border-box;
        }

        .content-wrapper {
            display: flex;
            justify-content: space-between; /* Restaurado para espaciar text-left y text-right */
            align-items: center;
            width: 100%;
            max-width: 1400px; /* Ancho máximo para el contenido */
        }

        /* Nueva regla para centrar el content-wrapper específicamente en la sección de inicio */
        #inicio .content-wrapper {
            flex-direction: column; /* Apila el contador y el nuevo texto */
            justify-content: center; /* Centra horizontal y verticalmente el contenido */
            text-align: center; /* Asegura que el texto dentro esté centrado */
        }
        
        .text-left {
            flex-basis: 35%; /* Cada caja de texto ocupa el 35% del espacio */
            padding: 2rem;
            text-align: left; /* Alineación del texto a la izquierda */
        }

        .text-right {
            flex-basis: 35%; /* Cada caja de texto ocupa el 35% del espacio */
            padding: 2rem;
            text-align: right; /* Alineación del texto a la derecha */
        }

        /* Estilos para los nuevos carruseles de colección */
        .carousel-container-collection {
            width: 250px; /* Ancho fijo para el carrusel */
            height: 350px; /* Alto fijo para el carrusel */
            overflow: hidden;
            margin: 0 2rem;
            flex-shrink: 0;
            border-radius: 8px;
            /* No box-shadow como se solicitó */
        }

        .carousel-track-collection {
            display: flex;
            white-space: nowrap; /* Mantiene los elementos en una sola línea */
            height: 100%; /* Asegura que la pista ocupe toda la altura del contenedor */
        }

        .carousel-item-collection {
            flex: 0 0 auto; /* Evita que los elementos se encojan o crezcan */
            width: 250px; /* Cada elemento ocupa el ancho del contenedor */
            height: 100%;
            display: inline-block; /* Para compatibilidad con navegadores antiguos con white-space: nowrap */
        }

        .carousel-item-collection img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Asegura que la imagen cubra el área, recortando si es necesario */
            border-radius: 8px;
        }


        .section h1 {
            font-size: 3rem;
            font-weight: bold;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
            margin: 0;
            line-height: 1.2; /* Reducido el interlineado para los títulos */
            color: #fff; /* Texto blanco para los títulos de sección */
        }

        .section p {
            font-size: 1.1rem;
            line-height: 1.6;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.6);
            margin: 0;
            color: #fff; /* Texto blanco para los párrafos de sección */
        }

        /* Estilos para el nuevo contador */
        .counter-display {
            font-size: 5rem; /* Tamaño de fuente grande para visibilidad */
            font-weight: 800; /* Extra negrita */
            color: #fff; /* Color blanco */
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6);
            margin: 0 2rem; /* Añade un margen horizontal */
            flex-shrink: 0; /* Evita que se encoja */
            text-align: center; /* Centrar el texto dentro del contador */
        }

        /* Ajustes responsivos para el texto de las colecciones */
        @media (max-width: 750px) { /* Ajustado a 750px como se solicitó */
            .counter-display {
                font-size: 3rem;
                margin-top: 1rem; /* Espacio desde el texto apilado */
                margin-bottom: 1rem;
            }
            .content-wrapper {
                flex-direction: column; /* Apila los elementos verticalmente */
                justify-content: center;
                text-align: center;
            }

            .text-left, .text-right {
                flex-basis: auto; /* Ancho automático */
                text-align: center; /* Centrar el texto para móviles */
                padding: 1rem;
            }

            .carousel-container-collection {
                width: 180px; /* Carrusel más pequeño en móvil */
                height: 250px; /* Ajusta la altura para móvil */
                margin: 1rem 0; /* Ajusta el margen para el apilamiento */
            }
            .carousel-item-collection {
                width: 180px; /* Ajusta el ancho del elemento para móvil */
            }

            .section h1 {
                font-size: 2.5rem;
                margin-bottom: 1rem;
            }

            .section p {
                font-size: 1rem;
            }

            #floating-image {
                width: 180px;
                height: 180px;
                max-width: 45vw;
                max-height: 45vh;
            }
        }

        /* Nuevos estilos para el carrusel de historia */
        .carousel-container-history {
            width: 100%; /* Ancho completo de la sección */
            overflow: hidden;
            margin: 0 auto; /* Centra el carrusel */
            border-radius: 8px;
            height: 300px; /* Alto fijo para el carrusel de historia */
        }

        .carousel-track-history {
            display: flex;
            white-space: nowrap;
            height: 100%;
        }

        .carousel-item-history {
            flex: 0 0 auto; /* Evita que los elementos se encojan o crezcan */
            width: 400px; /* Ancho de cada imagen en el carrusel de historia */
            height: 100%;
            display: inline-block;
        }

        .carousel-item-history img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Asegura que la imagen cubra el área, recortando si es necesario */
            border-radius: 0; /* Sin bordes redondeados para una pared sin fisuras */
        }

        /* Ajustes responsivos para el carrusel de historia */
        @media (max-width: 1024px) {
            .carousel-item-history {
                width: 300px; /* Ajusta el ancho para tabletas */
            }
            /* La altura de .carousel-container-history ahora es fija en 300px, no es necesario ajustarla aquí */
        }

        @media (max-width: 768px) {
            .carousel-item-history {
                width: 100vw; /* Ancho completo del viewport para móvil */
            }
            /* La altura de .carousel-container-history ahora es fija en 300px, no es necesario ajustarla aquí */
        }


        /* --- COLORES DE FONDO PARA CADA SECCIÓN (NUEVOS ESTILOS) --- */
        #inicio { background-image: linear-gradient(rgb(67, 172, 32), rgb(118, 223, 83)); }
        #nosotros { background: linear-gradient(90deg, rgba(0, 107, 205, 1) 0%, rgba(0, 107, 205, 1) 50%, rgba(92, 176, 255, 1) 100%); /* Azul para Aulas Universitarias */ }
        #servicios { background: linear-gradient(90deg,rgba(255, 0, 0, 1) 0%, rgba(255, 0, 0, 1) 50%, rgba(255, 85, 0, 1) 100%); /* Rojo para Ciencias */ }
        #galeria { background: linear-gradient(90deg,rgba(255, 199, 15, 1) 0%, rgba(245, 188, 0, 1) 50%, rgba(179, 149, 0, 1) 100%); /* Amarillo para Sociedad en Movimiento */ }
        #our-history-images {
            background-color: #FFFFFF; /* Cambiado a blanco para esta sección */
            color: #2F4F4F; /* Ajusta el color del texto para que contraste con el blanco */
            padding: 0; /* Eliminar padding para que el muro de fotos ocupe todo el ancho */
            height: 300px; /* Altura fija para esta sección */
            min-height: unset; /* Anula la altura mínima anterior */
        }
        
        /* Asegura que el fondo de la sección de la línea de tiempo sea blanco */
        #timeline-section {
            background-color: #FFFFFF;
        }

        /* Nuevos estilos específicos de la sección */
        #mission-statement {
            background-color: #0da353; /* Color de fondo actualizado a #0da353 */
            color: #fff; /* Texto blanco */
            padding: 80px 2rem; /* Añade algo de padding */
            box-sizing: border-box;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #mission-statement p {
            max-width: 800px; /* Limita el ancho para legibilidad */
            font-size: 1.5rem; /* Tamaño de fuente más grande */
            line-height: 1.8;
            margin: 0 auto;
            text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.4);
        }
        @media (max-width: 768px) {
            #mission-statement p {
                font-size: 1.2rem;
            }
        }

        /* Estilos de la sección de video */
        #video-section {
            background-color: #333; /* Fondo oscuro para la sección de video */
            padding: 0; /* Se eliminó el padding vertical para permitir la altura completa */
            display: flex;
            justify-content: center;
            align-items: center;
            box-sizing: border-box;
            overflow: hidden; /* Asegura que no haya desbordamiento */
            width: 100%; /* Asegura que la sección ocupe todo el ancho */
        }

        .video-responsive {
            position: relative;
            width: 100%; /* Cambiado a 100% para llenar la sección */
            /* Se eliminó max-width para permitir que se expanda completamente */
            padding-bottom: 56.25%; /* Relación de aspecto 16:9 */
            height: 0;
            overflow: hidden;
        }

        .video-responsive iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        /* Nuevos estilos para el botón de desplazamiento hacia arriba */
        #scroll-to-top-btn {
            display: none; /* Oculto por defecto */
            position: fixed; /* Posición fija */
            bottom: 20px; /* 20px desde la parte inferior */
            right: 20px; /* 20px desde la derecha */
            z-index: 99; /* Z-index alto para estar encima */
            border: none; /* Sin borde */
            outline: none; /* Sin contorno */
            background-color: rgba(0, 0, 0, 0.5); /* Fondo negro con 50% de transparencia */
            color: white; /* Texto/icono blanco */
            cursor: pointer; /* Cursor de puntero al pasar el ratón */
            padding: 15px; /* Algo de padding */
            border-radius: 0; /* Forma cuadrada (se eliminó border-radius: 50%) */
            font-size: 22px; /* Tamaño del icono */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3); /* Sombra suave */
            transition: background-color 0.3s ease, transform 0.3s ease; /* Transiciones suaves */
        }

        #scroll-to-top-btn:hover {
            background-color: rgba(0, 0, 0, 0.7); /* Negro más oscuro al pasar el ratón (70% de transparencia) */
            transform: scale(1.05); /* Ligeramente más grande al pasar el ratón */
        }

        /* Opcional: ajusta para pantallas más pequeñas si es necesario */
        @media (max-width: 600px) {
            #scroll-to-top-btn {
                bottom: 15px;
                right: 15px;
                padding: 12px;
                font-size: 18px;
            }
        }

        /* Estilos del menú de hamburguesa */
        .hamburger-menu-button {
            display: none; /* Oculto por defecto */
            font-size: 2rem;
            background: none;
            border: none;
            color: #333;
            cursor: pointer;
            z-index: 40; /* Asegura que esté por encima de otros elementos del encabezado */
        }

        .mobile-nav-container {
            display: none; /* Oculto por defecto */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 35; /* Encima del encabezado pero debajo de la imagen flotante */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            pointer-events: none; /* Evita la interacción cuando está oculto */
        }

        .mobile-nav-container.open {
            display: flex;
            opacity: 1;
            pointer-events: all;
        }

        .mobile-nav-container ul {
            list-style: none;
            padding: 0;
            text-align: center;
        }

        .mobile-nav-container ul li {
            margin: 1.5rem 0;
        }

        .mobile-nav-container ul li a {
            color: #fff;
            font-size: 1.8rem;
            font-weight: 600;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .mobile-nav-container ul li a:hover {
            color: #0da353; /* Verde al pasar el ratón */
        }

        @media (max-width: 700px) {
            .hamburger-menu-button {
                display: block; /* Muestra la hamburguesa en pantallas pequeñas */
            }
            header nav {
                display: none; /* Oculta la navegación de escritorio en pantallas pequeñas */
            }
        }

        /* Estilos para la nueva sección de la Carta del Director */
        #director-letter-section {
            background-color: #0da353; /* Color de fondo verde */
            color: #fff; /* Texto blanco */
            padding: 80px 2rem; /* Padding para el contenido */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            /* overflow: hidden; /* Para que la transición de max-height funcione correctamente */
        }

        .director-photo-container {
            width: 150px; /* Tamaño del contenedor de la foto */
            height: 150px;
            border-radius: 50%; /* Hace el contenedor circular */
            overflow: hidden; /* Recorta la imagen para que sea circular */
            border: 5px solid #fff; /* Borde blanco alrededor de la foto */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); /* Sombra para profundidad */
            display: flex; /* Para centrar la imagen dentro del contenedor */
            justify-content: center;
            align-items: center;
            margin-bottom: 1rem; /* Espacio debajo de la foto */
        }

        .director-photo {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Asegura que la imagen cubra el círculo */
            display: block; /* Elimina espacio extra debajo de la imagen */
        }

        /* Contenedor para el título y el contenido desplegable */
        .director-letter-container {
            max-width: 800px; /* Ancho máximo para el área del título y el contenido */
            width: 100%; /* Asegura que ocupe todo el ancho dentro de su padre */
            margin: 0 auto; /* Centra el contenedor */
        }

        /* Estilos para el área del título que activa el despliegue */
        .director-letter-title-trigger {
            cursor: pointer; /* Indica que es interactivo */
            padding: 1rem 2rem; /* Padding para el área clicable del título */
            border-radius: 0px;
            transition: background-color 0.3s ease;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.6); /* Mantiene la sombra de texto para el título */
            color: #fff; /* Mantiene el texto del título en blanco */
            font-size: 3rem; /* Mantiene el tamaño de fuente del título */
            font-weight: 700; /* Mantiene el peso de fuente del título */
            line-height: 1.2; /* Mantiene el interlineado del título */
            margin-bottom: 0; /* Elimina el margen inferior del h2 para evitar empuje */
            display: flex; /* Para alinear la flecha */
            justify-content: center; /* Para centrar el título y la flecha */
            align-items: center;
            gap: 10px; /* Espacio entre el título y la flecha */
        }

        .director-letter-title-trigger:hover {
            background-color: rgba(0, 0, 0, 0.17); /* Ligero cambio de fondo al pasar el ratón */
        }

        /* Estilos de la flecha */
        .arrow-icon {
            display: inline-block;
            transition: transform 0.3s ease;
            font-size: 0.4em; /* Más pequeño que el título */
            opacity: 100%;
            margin-top: 8px;
        }

        .arrow-icon.rotated {
            transform: rotate(180deg); /* Gira 180 grados cuando está abierto */
        }

        /* Estilos para el contenido de la carta que se despliega */
        .collapsible-letter-content {
            max-height: 0; /* Altura inicial cero para ocultar */
            opacity: 0; /* Opacidad inicial cero para ocultar */
            overflow: hidden; /* Oculta el contenido que se desborda */
            transition: max-height 0.7s ease-out, opacity 0.7s ease-out, padding 0.7s ease-out; /* Transiciones suaves */
            padding: 0 30px; /* Padding inicial, se expandirá con max-height */
            box-sizing: border-box; /* Asegura que el padding se incluya en la altura */
            background-image: linear-gradient(315deg, #d5ddf8, #fff 57%); /* Fondo blanco semi-transparente */
            color: #333; /* Texto oscuro para mayor legibilidad sobre fondo blanco */
            border-radius: 0px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3); /* Sombra más fuerte para efecto flotante */
            margin-top: 1rem; /* Espacio desde el título */
            text-align: left; /* Alinea el texto dentro del cuadro */
        }

        /* Estado desplegado del contenido de la carta (activado por clase JS) */
        .collapsible-letter-content.is-open {
            max-height: 1400px; /* Un valor lo suficientemente grande para contener todo el contenido */
            opacity: 1; /* Hace el contenido visible */
            padding: 20px 30px; /* Restaura el padding completo al abrir */
        }

        .collapsible-letter-content p {
            font-size: 1.15rem;
            line-height: 1.7;
            text-shadow: none; /* Elimina la sombra de texto para mayor legibilidad en fondo claro */
            margin-bottom: 1rem;
            color: #333; /* Asegura que el color del texto sea oscuro dentro del cuadro */
        }

        /* Ajustes responsivos para la sección de la carta del director */
        @media (max-width: 768px) {
            #director-letter-section {
                padding: 60px 1rem;
            }
            .director-photo-container {
                width: 120px;
                height: 120px;
                border-width: 3px;
            }
            .director-letter-title-trigger h2 {
                font-size: 2.2rem;
            }
            .collapsible-letter-content {
                padding: 0 20px; /* Ajusta el padding inicial para móvil */
            }
            .collapsible-letter-content.is-open { /* Usa is-open para el padding responsivo */
                padding: 15px 20px; /* Ajusta el padding para móvil al abrir */
            }
        }
            .hr {
            border: none; /* Elimina el borde predeterminado */
            height: 1px; /* Grosor de la línea */
            background-color: rgb(236, 236, 236); /* Color de la línea */
            margin-top: 10px;
            margin-bottom: 10px;
            }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <!-- Sección de Encabezado -->
    <header class="w-full p-4 bg-white shadow-md flex justify-between items-center z-30 relative">
        <div class="flex items-center space-x-2">
            <!-- Se reemplazó h1 con una etiqueta img para el logo, ahora también un enlace a la parte superior de la página -->
            <a href="#">
                <img src="https://edunlu-editorial.github.io/10-ANIVERSARIO/activos/edunlu-logo.svg"
                    alt="Logo Editorial Universitaria"
                    class="h-10 w-auto"> <!-- Clases de Tailwind para altura y ancho automático -->
            </a>
        </div>
        <!-- Navegación de Escritorio -->
        <nav id="desktop-nav">
            <ul class="flex space-x-4">
                <li><a href="#video-section" class="text-gray-600 hover:text-green-600 transition duration-300">10 AÑOS</a></li>
                <li><a href="#director-letter-section" class="text-gray-600 hover:text-green-600 transition duration-300">Carta</a></li>
                <li><a href="#inicio" class="text-gray-600 hover:text-green-600 transition duration-300">Colecciones</a></li>
                <li><a href="#timeline-section" class="text-gray-600 hover:text-green-600 transition duration-300">Historia</a></li>
                <li><a href="#cta-section" class="text-gray-600 hover:text-green-600 transition duration-300">Catálogo</a></li>
            </ul>
        </nav>
        <!-- Botón de Menú de Hamburguesa -->
        <button class="hamburger-menu-button" id="hamburger-button" aria-label="Toggle navigation">
            &#9776; <!-- Unicode para el icono de hamburguesa -->
        </button>
    </header>

    <!-- Menú de Navegación Móvil -->
    <div class="mobile-nav-container" id="mobile-nav-container">
        <ul id="mobile-nav-links">
            <li><a href="#video-section">10 AÑOS</a></li>
            <li><a href="#inicio">Colecciones</a></li>
            <li><a href="#timeline-section">Historia</a></li>
            <li><a href="#cta-section">Catálogo</a></li>
        </ul>
    </div>

    <!-- Sección Principal del Banner con Slider 3D -->
    <div class="banner">
        <!-- Logo SVG en el centro de las portadas -->
        <img src="https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/01-aniversario-edunlu.png"
            alt="Logo Editorial Universitaria"
            class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[21.6rem] h-[21.6rem] object-contain"
            style="z-index: 10;"> <!-- Z-index ajustado para que el logo esté detrás del slider cuando las portadas están al frente -->

        <!-- Área de Contenido debajo del slider - solo queda la información del autor -->
        <div class="content">
            <div class="author-info flex flex-col items-center md:items-end">
                <h2 class="text-3xl font-bold" style="color: #0da353;">10 AÑOS</h2>
                <p class="text-lg text-gray-500 mt-2">
                    Impulsando el conocimiento, la cultura y el saber universitario.
                </p>
            </div>
        </div>
        <!-- Contenedor del Slider 3D -->
        <div class="slider" id="bookSlider">
            <!-- Elementos de Portada de Libro (reemplazar con las imágenes reales de sus portadas) -->
            <!-- La variable CSS '--position' es crucial para la rotación 3D -->
            <div class="item" style="--position: 1; --quantity: 8;">
                <img src="#" alt="Portada Libro 1">
            </div>
            <div class="item" style="--position: 2; --quantity: 8;">
                <img src="#" alt="Portada Libro 2">
            </div>
            <div class="item" style="--position: 3; --quantity: 8;">
                <img src="#" alt="Portada Libro 3">
            </div>
            <div class="item" style="--position: 4; --quantity: 8;">
                <img src="#" alt="Portada Libro 4">
            </div>
            <div class="item" style="--position: 5; --quantity: 8;">
                <img src="#" alt="Portada Libro 5">
            </div>
            <div class="item" style="--position: 6; --quantity: 8;">
                <img src="#" alt="Portada Libro 6">
            </div>
            <div class="item" style="--position: 7; --quantity: 8;">
                <img src="#" alt="Portada Libro 7">
            </div>
            <div class="item" style="--position: 8; --quantity: 8;">
                <img src="#" alt="Portada Libro 8">
            </div>
        </div>
    </div>

    <!-- La imagen flotante sigue siendo un único elemento global -->
    <img id="floating-image"
                src="https://edunlu-editorial.github.io/10-ANIVERSARIO/activos/dark-edunlu-svg.svg"
                alt="Ilustración de la sección actual"
                onerror="this.onerror=null;this.src='https://placehold.co/400x400/CCCCCC/FFFFFF/png?text=Error';">

    <main>
        <!-- Nueva Sección de Video -->
        <section id="video-section">
            <div class="video-responsive">
                <!-- ID para el reproductor de YouTube API -->
                <iframe id="youtube-player" width="100%" height="100%" src="https://www.youtube.com/embed/9W9kI2wLdjQ?si=PnVLtp06i1G_45e3" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
        </section>

        <!-- Nueva Sección: Carta del Director -->
        <section id="director-letter-section" class="flex-col text-center py-16">
        <!--    <div class="director-photo-container mb-8">
                <img src="https://placehold.co/150x150/0da353/FFFFFF?text=Director" alt="Foto del Director Pablo Lulic" class="director-photo">
            </div>
            <h3 class="text-2xl font-semibold text-white mb-6">Pablo Lulic</h3>-->

            <div class="director-letter-container">
                <div class="director-letter-title-trigger" id="directorLetterTrigger">
                    <h2 class="text-4xl font-semibold text-white mt-0 mb-0">Celebrar el pasado, proyectar el futuro</h2>
                    <span class="arrow-icon">&#9660;</span> <!-- Flecha hacia abajo -->
                </div>
                
                <div class="collapsible-letter-content" id="collapsibleLetterContent">
                    <!-- Contenido de la carta -->
                    <hr class="hr">
                    <p class="text-lg text-gray-800 leading-relaxed mb-4">
                        Parece que fue ayer cuando dábamos esos primeros pasos, cargados de ilusión y con la firme
                        convicción de que la universidad debía ser también un espacio de creación y difusión del
                        conocimiento a través del libro.
                    </p>

                    <p class="text-lg text-gray-800 leading-relaxed mb-4">
                        En esta década, nuestra editorial se ha convertido en un pilar fundamental. No solo es un puente
                        entre la investigación y la sociedad, sino también una ventana que permite a nuestros docentes,
                        investigadores y extensionistas, compartir sus saberes y reflexiones más allá de las aulas. Cada
                        libro publicado es un testimonio del rigor académico, la creatividad y el compromiso de nuestra
                        comunidad universitaria con la generación de conocimiento relevante y pertinente.
                    </p>

                    <p class="text-lg text-gray-800 leading-relaxed mb-4">
                        Hoy celebramos una década de logros, pero también miramos hacia el futuro con renovado
                        entusiasmo. Los desafíos son muchos en el mundo editorial actual, pero seguiremos
                        adaptándonos, explorando nuevos formatos y temáticas, y manteniendo nuestro compromiso con
                        la excelencia académica y la difusión del conocimiento.
                    </p>

                    <p class="text-lg text-gray-800 leading-relaxed mb-4">
                        En una editorial universitaria los logros no se miden en función de ganancias o pérdidas
                        económicas, sino con el hecho de ser un servicio de apoyo a la comunidad universitaria y a la
                        sociedad a la cual pertenece.
                    </p>

                    <p class="text-lg text-gray-800 leading-relaxed mb-4">
                        EdUNLu como editorial universitaria conecta a la Universidad con su comunidad, sirviendo como
                        medio de comunicación e integración.
                    </p>

                    <p class="text-lg text-gray-800 leading-relaxed mb-4">
                        Que estos diez años sean solo el prólogo de una larga y fructífera historia para el sello editorial de
                        la Universidad Nacional de Luján.
                    </p>
                    <p class="text-right text-gray-800 leading-relaxed mt-8">
                        <strong>Pablo Lulic,</strong>
                        <br>
                        <span style="font-weight: regular;">Director de EdUNLu</span>
                    </p>
                </div>
            </div>
        </section>

        <section id="inicio" class="section">
            <div class="content-wrapper">
                <!-- Contador en el centro -->
                <div class="counter-display" id="counterDisplay">
                    0
                </div>
                <!-- Nuevo nivel de lectura: "Conocé nuestras colecciones" -->
                <h2 class="text-3xl text-white font-semibold mt-4">Conocé nuestras colecciones</h2>
            </div>
        </section>

        <section id="nosotros" class="section">
            <div class="content-wrapper">
                <div class="text-left">
                    <h1>Colección Aulas Universitarias</h1>
                </div>
                <!-- Carrusel para Colección Aulas Universitarias -->
                <div class="carousel-container-collection">
                    <div class="carousel-track-collection" id="aulasCarouselTrack">
                        <!-- Imágenes cargadas por JavaScript -->
                    </div>
                </div>
                <div class="text-left">
                    <p><strong>Manuales y Material Pedagógico</strong></p><p>Son obras fundamentales para la formación académica y el éxito profesional. Estos libros, creados como material de enseñanza, son una herramienta clave para nuestros estudiantes, y su contenido riguroso es de gran utilidad para la comunidad académica de otras instituciones de educación superior.</p>
                </div>
            </div>
        </section>

        <section id="servicios" class="section">
            <div class="content-wrapper">
                <div class="text-left">
                    <h1>Colección Ciencias</h1>
                </div>
                <!-- Carrusel para Colección Ciencias -->
                <div class="carousel-container-collection">
                    <div class="carousel-track-collection" id="cienciasCarouselTrack">
                        <!-- Imágenes cargadas por JavaScript -->
                    </div>
                </div>
                <div class="text-left">
                    <p><strong>Investigación y Divulgación Científica</strong></p><p>Investigaciones en campos clave como la biología, la física y la química. Estas publicaciones son el fruto de la intensa actividad de investigación, los debates y el intercambio académico en nuestra comunidad. Representan el principal vehículo para difundir y consolidar el aporte científico de la universidad a la sociedad.</p>
                </div>
            </div>
        </section>

        <section id="galeria" class="section">
            <div class="content-wrapper">
                <div class="text-left">
                    <h1>Colección Sociedad en Movimiento</h1>
                </div>
                <!-- Carrusel para Colección Sociedad en Movimiento -->
                <div class="carousel-container-collection">
                    <div class="carousel-track-collection" id="sociedadCarouselTrack">
                        <!-- Imágenes cargadas por JavaScript -->
                    </div>
                </div>
                <div class="text-left">
                    <p><strong>Sociedad, Cultura y Patrimonio</strong></p><p>Una colección de obras que analizan y reflexionan sobre las transformaciones sociales, culturales y políticas de nuestro tiempo. Esta línea editorial abarca desde ensayos y textos literarios hasta materiales dedicados a la divulgación y puesta en valor del patrimonio cultural e institucional.</p>
                </div>
            </div>
        </section>

        <!-- Nueva sección: Nuestra Historia en Imágenes (Muro de fotografías) -->
        <section id="our-history-images" class="section flex-col text-center justify-center">
            <div class="carousel-container-history">
                <div class="carousel-track-history" id="historyCarouselTrack">
                    <!-- Imágenes cargadas por JavaScript -->
                </div>
            </div>
        </section>
    </main>

    <!-- Sección de Cronología / Línea de Tiempo -->
    <section class="py-16 bg-white" id="timeline-section">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-900 mb-12">Nuestra Historia</h2>
            <div class="timeline">
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2002 - Registro</h3>
                        <p class="text-gray-600">Se tramita el sello editorial de la Universidad Nacional de Luján ante la Dirección Nacional del Derecho de Autor, mediante el <strong>Expediente N° 213320</strong> (fecha: 24 de septiembre).</p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2010 - Proyección</h3>
                        <p class="text-gray-600">Se realizan deliberaciones institucionales que proyectan la creación formal de la editorial.</p>
                    </div>
                    
                </div>
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2011 - Creación y consejo</h3>
                        <p class="text-gray-600">Mediante la <span style="font-weight: bold;">Resolución HCS 233/11,</span> se crea oficialmente EdUNLu como instrumento de la política de ediciones de la UNLu, en el ámbito de la Secretaría del Rectorado.<br>También se crea el <strong>Consejo Editorial Universitario (CEU),</strong> órgano de acompañamiento institucional.</p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2014 - Reglamento</h3>
                        <p class="text-gray-600">Se aprueba el Reglamento de Funcionamiento de la Editorial EdUNLu, consolidando su marco operativo.</p>
                    </div>
                </div>
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2015 - Primeras ediciones</h3>
                        <p class="text-gray-600">Este año se publican los dos primeros libros con sello editorial: <i>Ingreso universitario. Políticas y estrategias para la inclusión: nuevas complejidades, nuevas respuestas</i> y <i>Dinámica demográfica de la niñez y la adolescencia en la Argentina</i>, ambos como parte de la colección <strong>Ciencias.</strong></p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2016 - Presentación y Librería Universitaria</h3>
                        <p class="text-gray-600">Se llevó a cabo la presentación de la Editorial de la Universidad Nacional de Luján (EdUNLu) ante la comunidad, junto con la inauguración de la <strong>Librería Universitaria</strong>, en el Hall del Pabellón “Raúl Scalabrini Ortiz” de la Sede Central.</p>
                    </div>
                </div>
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2016 - Expación digital</h3>
                        <p class="text-gray-600">Se llevó a cabo la presentación de la Editorial de la Universidad Nacional de Luján (EdUNLu) ante la comunidad, junto con la inauguración de la <strong>Librería Universitaria</strong>, en el Hall del Pabellón “Raúl Scalabrini Ortiz” de la Sede Central.</p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2017 - El CUBO</h3>
                        <p class="text-gray-600">Inauguración de <i>El Cubo</i>, el espacio de difusión editorial anexo a la Librería Universitaria, ubicado en el Hall Central del Pabellón “Raúl Scalabrini Ortiz”.</p>
                    </div>
                </div>
                <div class="timeline-container left-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2017 - Patio Cultural “Historia de la Escritura”</h3>
                        <p class="text-gray-600">Inauguración de <i>El Cubo</i>, el espacio de difusión editorial anexo a la Librería Universitaria, ubicado en el Hall Central del Pabellón “Raúl Scalabrini Ortiz”.</p>
                    </div>
                </div>
                <div class="timeline-container right-timeline">
                    <div class="timeline-content">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">2025 - 10 Aniversario</h3>
                        <p class="text-gray-600">Celebramos una decada de trayectoria, consolidando nuestro compromiso con el saber.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Nueva Sección de Misión -->
    <section id="mission-statement" class="py-16 bg-[#0da353] text-white text-center">
        <div class="container mx-auto px-4">
            <p class="text-2xl leading-relaxed">
                Trabajamos con compromiso para contribuir al desarrollo del conocimiento, la educación pública y la construcción colectiva de una sociedad más justa y reflexiva, a través de nuestras publicaciones.
            </p>
        </div>
    </section>

    <!-- Sección de Llamada a la Acción -->
    <section id="cta-section" class="py-12 bg-gray-200 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-6">¿Interesado en nuestro catálogo?</h2>
        <a href="https://edunlu-editorial.github.io/libros-edunlu/publicaciones/EdUNLu.html" target="_blank" class="inline-block bg-green-600 text-white text-xl font-semibold py-3 px-8 shadow-lg hover:bg-green-700 transition duration-300">
            Ver catálogo completo
        </a>
    </section>

    <!-- Pie de Página (Footer) -->
    <footer id="footer-section" class="bg-gray-800 text-white py-12 text-center">
        <div class="container mx-auto px-4">
            <!-- Título "¡Sumate y seguinos en nuestras redes!" eliminado -->
            <!-- Enlaces de redes sociales eliminados -->
            <p class="text-gray-400 text-sm mt-8">
                2025 - EdUNLu
            </p>
        </div>
    </footer>

    <!-- Botón flotante para ir arriba -->
    <button id="scroll-to-top-btn" title="Ir arriba">&#9650;</button> <!-- Unicode para una flecha hacia arriba -->

    <script>
        let player; // Variable global para el reproductor de YouTube
        let isPlayerReady = false; // Nueva bandera para verificar si el reproductor de YouTube está listo

        // Esta función se ejecuta automáticamente cuando la API de Iframe de YouTube se carga.
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });
        }

        function onPlayerReady(event) {
            // Silenciar el video al cargarse, ya que el autoplay sin mutear puede ser bloqueado por los navegadores.
            event.target.mute();
            isPlayerReady = true; // El reproductor está listo
            // El video no se reproduce automáticamente aquí; el IntersectionObserver lo controlará.
        }

        function onPlayerStateChange(event) {
            // Puedes añadir lógica aquí si necesitas reaccionar a cambios de estado del video
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Función para mezclar un array (algoritmo de Fisher-Yates)
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]]; // Intercambia elementos
                }
            }

            // Define una única lista de portadas de libros
            const allBookCovers = [
                // Portadas existentes de la lista 1 (8 portadas)
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_1.gif", alt: "Portada Libro 1" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_2.gif", alt: "Portada Libro 2" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_3.gif", alt: "Portada Libro 3" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_4.gif", alt: "Portada Libro 4" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_5.gif", alt: "Portada Libro 5" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_6.gif", alt: "Portada Libro 6" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_7.gif", alt: "Portada Libro 7" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_8.gif", alt: "Portada Libro 8" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_9.gif", alt: "Portada Libro 9" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_10.gif", alt: "Portada Libro 10" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_11.gif", alt: "Portada Libro 11" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_12.gif", alt: "Portada Libro 12" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_13.gif", alt: "Portada Libro 13" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_14.gif", alt: "Portada Libro 14" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_15.gif", alt: "Portada Libro 15" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_16.gif", alt: "Portada Libro 16" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_16-2.gif", alt: "Portada Libro 16-b" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_17.gif", alt: "Portada Libro 17" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_18.gif", alt: "Portada Libro 18" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_19.gif", alt: "Portada Libro 19" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_20.gif", alt: "Portada Libro 20" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_21.gif", alt: "Portada Libro 21" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_22.gif", alt: "Portada Libro 22" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_23.gif", alt: "Portada Libro 23" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_24.gif", alt: "Portada Libro 24" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_25.gif", alt: "Portada Libro 25" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_26.gif", alt: "Portada Libro 26" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_27.gif", alt: "Portada Libro 27" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_28.gif", alt: "Portada Libro 28" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_29.gif", alt: "Portada Libro 29" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_30.gif", alt: "Portada Libro 30" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_31.gif", alt: "Portada Libro 31" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_32.gif", alt: "Portada Libro 32" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_34.gif", alt: "Portada Libro 34" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_35.gif", alt: "Portada Libro 35" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_36.gif", alt: "Portada Libro 36" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_37.gif", alt: "Portada Libro 37" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_38.gif", alt: "Portada Libro 38" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_39.gif", alt: "Portada Libro 39" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_40.gif", alt: "Portada Libro 40" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_41.gif", alt: "Portada Libro 41" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_42.gif", alt: "Portada Libro 42" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_43.gif", alt: "Portada Libro 43" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_44.gif", alt: "Portada Libro 44" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_45.gif", alt: "Portada Libro 45" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_46.gif", alt: "Portada Libro 46" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_47.gif", alt: "Portada Libro 47" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_48.gif", alt: "Portada Libro 48" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_49.gif", alt: "Portada Libro 49" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_50.gif", alt: "Portada Libro 50" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_51.gif", alt: "Portada Libro 51" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_52.gif", alt: "Portada Libro 52" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_53.gif", alt: "Portada Libro 53" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_54.gif", alt: "Portada Libro 54" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_55.gif", alt: "Portada Libro 55" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_56.gif", alt: "Portada Libro 56" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_57.gif", alt: "Portada Libro 57" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_58.gif", alt: "Portada Libro 58" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_59.gif", alt: "Portada Libro 59" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_61.gif", alt: "Portada Libro 61" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_62.gif", alt: "Portada Libro 62" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_63.gif", alt: "Portada Libro 63" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_64.gif", alt: "Portada Libro 64" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_65.gif", alt: "Portada Libro 65" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_66.gif", alt: "Portada Libro 66" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_67.gif", alt: "Portada Libro 67" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_68.gif", alt: "Portada Libro 68" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_69.gif", alt: "Portada Libro 69" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_71.gif", alt: "Portada Libro 71" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_72.gif", alt: "Portada Libro 72" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_73.gif", alt: "Portada Libro 73" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_74.gif", alt: "Portada Libro 74" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_75.gif", alt: "Portada Libro 75" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_76.gif", alt: "Portada Libro 76" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_77.gif", alt: "Portada Libro 77" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_78.gif", alt: "Portada Libro 78" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_79.gif", alt: "Portada Libro 79" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_80.gif", alt: "Portada Libro 80" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_81.gif", alt: "Portada Libro 81" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_82.gif", alt: "Portada Libro 82" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_83.gif", alt: "Portada Libro 83" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_84.gif", alt: "Portada Libro 84" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_85.gif", alt: "Portada Libro 85" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_86.gif", alt: "Portada Libro 86" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_87.gif", alt: "Portada Libro 87" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_88.gif", alt: "Portada Libro 88" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_89.gif", alt: "Portada Libro 89" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_90.gif", alt: "Portada Libro 90" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_91.gif", alt: "Portada Libro 91" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_92.gif", alt: "Portada Libro 92" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_93.gif", alt: "Portada Libro 93" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_94.gif", alt: "Portada Libro 94" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_95.gif", alt: "Portada Libro 95" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_96.gif", alt: "Portada Libro 96" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_97.gif", alt: "Portada Libro 97" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_98.gif", alt: "Portada Libro 98" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_99.gif", alt: "Portada Libro 99" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_100.gif", alt: "Portada Libro 100" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_101.gif", alt: "Portada Libro 101" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_102.gif", alt: "Portada Libro 102" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_103.gif", alt: "Portada Libro 103" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_104.gif", alt: "Portada Libro 104" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_105.gif", alt: "Portada Libro 105" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_106.gif", alt: "Portada Libro 106" },
                { src: "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a_aniversario_107.gif", alt: "Portada Libro 107" },
                // AÑADE AQUÍ MÁS OBJETOS { src: "URL_DE_TU_IMAGEN", alt: "Texto alternativo" } PARA TUS OTRAS PORTADAS.
                // La lista contendrá solo las portadas definidas explícitamente aquí.
                // Por ejemplo, si quieres 104 portadas en total, puedes añadir 80 más aquí:
                // { src: "https://tu-dominio.com/mi-portada-1.jpg", alt: "Mi Portada 1" },
                // { src: "https://tu-dominio.com/mi-portada-2.png", alt: "Mi Portada 2" },
                // ...
            ];

            // La lista se mezcla una vez al inicio, pero cada actualización del slider toma 8 elementos aleatorios de una copia recién mezclada.

            const slider = document.getElementById('bookSlider');
            const numSliderItems = slider.querySelectorAll('.item').length; // Debería ser 8

            // Función para actualizar las imágenes del slider 3D
            function updateSliderImages() {
                // Crea una copia de allBookCovers para mezclar sin afectar el orden original
                let shuffledCovers = [...allBookCovers];
                shuffleArray(shuffledCovers); // Mezcla la copia

                const nextCoversToDisplay = [];
                // Selecciona las primeras 'numSliderItems' (8) portadas únicas de la lista mezclada
                for (let i = 0; i < numSliderItems; i++) {
                    // Asegura que no intentamos acceder a un índice fuera de los límites si allBookCovers es menor que numSliderItems
                    if (shuffledCovers[i]) {
                        nextCoversToDisplay.push(shuffledCovers[i]);
                    } else {
                        // Si no hay suficientes imágenes, repite las existentes o usa un marcador de posición
                        nextCoversToDisplay.push(shuffledCovers[i % shuffledCovers.length]);
                    }
                }

                const items = slider.querySelectorAll('.item img');

                // Aplica desenfoque y opacidad 0 para la transición de salida
                items.forEach(img => {
                    img.style.opacity = '0';
                    img.style.filter = 'blur(5px)';
                });

                // Después de un breve retraso, cambia la fuente y desvanece la entrada
                setTimeout(() => {
                    items.forEach((img, index) => {
                        if (nextCoversToDisplay[index]) {
                            img.src = nextCoversToDisplay[index].src;
                            img.alt = nextCoversToDisplay[index].alt;
                        }
                        // Restaura la opacidad y elimina el desenfoque para la transición de entrada
                        img.style.opacity = '1';
                        img.style.filter = 'blur(0px)';
                    });
                }, 500); // Duración de la transición de opacidad y filtro
            }

            // Población inicial del slider con 8 elementos aleatorios
            const initialItems = slider.querySelectorAll('.item img');
            let initialShuffledCovers = [...allBookCovers]; // Copia para la mezcla inicial
            shuffleArray(initialShuffledCovers); // Mezcla la copia inicial
            for (let i = 0; i < numSliderItems; i++) {
                if (initialShuffledCovers[i]) {
                    initialItems[i].src = initialShuffledCovers[i].src;
                    initialItems[i].alt = initialShuffledCovers[i].alt;
                } else {
                    // Maneja el caso si allBookCovers es menor que numSliderItems al inicio
                    initialItems[i].src = `https://placehold.co/200x280/D3D3D3/000000?text=Libro+${i + 1}`;
                    initialItems[i].alt = `Portada Libro ${i + 1}`;
                }
            }
            
            if (slider) {
                slider.addEventListener('animationiteration', (event) => {
                    if (event.animationName === 'autoRun') {
                        updateSliderImages();
                    }
                });
            }

            // JavaScript para el cambio de color de fondo y la imagen flotante
            const sections = document.querySelectorAll('main .section, #timeline-section, #mission-statement, #video-section, #cta-section, #footer-section, #director-letter-section'); 
            const floatingImage = document.getElementById('floating-image');
            const body = document.body;
            const videoSection = document.getElementById('video-section');

            // Define los colores de fondo para cada sección por su ID
            const sectionColors = {
                'inicio': '#0da353',
                'nosotros': '#006bcd',
                'servicios': '#FF0000',
                'galeria': '#ffc300',
                'our-history-images': '#FFFFFF',
                'timeline-section': '#FFFFFF',
                'mission-statement': '#0da353',
                'video-section': '#333333',
                'director-letter-section': '#0da353',
                'cta-section': '#e2e8f0',
                'footer-section': '#1a202c'
            };

            // Secciones en las que la imagen flotante DEBE ser visible
            const sectionsForFloatingImageVisibility = ['servicios', 'galeria'];

            const observer = new IntersectionObserver((entries) => {
                let anyVisibleFloatingImageSection = false;
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const sectionId = entry.target.id;

                        // Cambia el color de fondo del body
                        if (sectionColors[sectionId]) {
                            body.style.backgroundColor = sectionColors[sectionId];
                        }

                        // Comprueba si esta sección intersectante debe mostrar la imagen flotante
                        if (sectionsForFloatingImageVisibility.includes(sectionId)) {
                            anyVisibleFloatingImageSection = true;
                        }

                        // Lógica de reproducción/pausa del video
                        if (sectionId === 'video-section' && player && isPlayerReady) {
                            player.playVideo();
                            player.mute();
                        }
                    } else {
                        // Pausa el video cuando la sección no es visible
                        if (entry.target.id === 'video-section' && player && isPlayerReady) {
                            player.pauseVideo();
                        }
                    }
                });

                // Después de verificar todas las entradas que intersectan, decide la visibilidad de la imagen
                if (anyVisibleFloatingImageSection) {
                    floatingImage.classList.remove('fade-out');
                } else {
                    floatingImage.classList.add('fade-out');
                }
            }, { threshold: 0.1 }); // Umbral pequeño para detectar entrada/salida rápidamente

            // Observa cada sección relevante
            sections.forEach(section => {
                observer.observe(section);
            });

            // Inicialmente, oculta la imagen si la sección de inicio o cualquier sección donde no deba verse
            // es la primera visible.
            const initialHiddenSections = ['inicio', 'nosotros', 'video-section', 'our-history-images', 'timeline-section', 'mission-statement', 'cta-section', 'footer-section', 'director-letter-section'];

            const initialCheckObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && initialHiddenSections.includes(entry.target.id)) {
                        floatingImage.classList.add('fade-out');
                    }
                });
            }, { threshold: 0.1 });
            
            initialHiddenSections.forEach(sectionId => {
                const sectionElement = document.getElementById(sectionId);
                if (sectionElement) {
                    initialCheckObserver.observe(sectionElement);
                }
            });

            // Lógica de animación del contador
            const counterElement = document.getElementById('counterDisplay');
            let hasAnimated = false; // Bandera para asegurar que la animación se ejecute solo una vez

            const counterObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasAnimated) {
                        animateCounter(counterElement, 100, ' +', ' OBRAS PUBLICADAS');
                        hasAnimated = true; // Establece la bandera a true después de que la animación comienza
                        counterObserver.unobserve(entry.target); // Deja de observar después de la animación
                    }
                });
            }, { threshold: 0.5 }); // Se activa cuando el 50% del elemento es visible

            counterObserver.observe(counterElement);

            function animateCounter(element, target, prefix = '', suffix = '') {
                let current = 0;
                const duration = 2000; // 2 segundos
                const stepTime = 10; // milisegundos
                const increment = target / (duration / stepTime);

                const timer = setInterval(() => {
                    current += increment;
                    if (current >= target) {
                        clearInterval(timer);
                        current = target;
                    }
                    element.textContent = prefix + Math.floor(current) + suffix;
                }, stepTime);
            }

            // Lógica del botón de desplazamiento hacia arriba
            const scrollToTopBtn = document.getElementById("scroll-to-top-btn");

            // Muestra u oculta el botón según la posición de desplazamiento
            window.onscroll = function() {
                if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
                    scrollToTopBtn.style.display = "block";
                } else {
                    scrollToTopBtn.style.display = "none";
                }
            };

            // Cuando el usuario hace clic en el botón, se desplaza a la parte superior del documento
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });

            // Lógica del menú de hamburguesa
            const hamburgerButton = document.getElementById('hamburger-button');
            const mobileNavContainer = document.getElementById('mobile-nav-container');
            const mobileNavLinks = document.getElementById('mobile-nav-links');

            hamburgerButton.addEventListener('click', () => {
                mobileNavContainer.classList.toggle('open');
            });

            // Cierra el menú móvil cuando se hace clic en un enlace
            mobileNavLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileNavContainer.classList.remove('open');
                });
            });

            // Cierra el menú móvil cuando se hace clic fuera de él (pero no en el botón)
            document.addEventListener('click', (event) => {
                if (!mobileNavContainer.contains(event.target) && !hamburgerButton.contains(event.target) && mobileNavContainer.classList.contains('open')) {
                    mobileNavContainer.classList.remove('open');
                }
            });

            // Función para crear y poblar un carrusel para colecciones
            function setupCarousel(trackId, itemClassName, imageUrls, numImages = 10, animationDuration = 20) {
                const track = document.getElementById(trackId);
                if (!track) return;

                let imagesToUse = [];
                // Repite las imágenes para llenar numImages
                for (let i = 0; i < numImages; i++) {
                    imagesToUse.push(imageUrls[i % imageUrls.length]);
                }
                imagesToUse = imagesToUse.concat(imagesToUse); // Duplica para un bucle sin fisuras

                track.innerHTML = ''; // Limpia el contenido existente
                imagesToUse.forEach(url => {
                    const item = document.createElement('div');
                    item.classList.add(itemClassName); // Usa el nombre de clase pasado
                    const img = document.createElement('img');
                    img.src = url;
                    img.alt = 'Imagen de carrusel'; // Texto alternativo genérico
                    // Añade onerror para la imagen de respaldo
                    img.onerror = function() { this.onerror=null; this.src='https://placehold.co/250x350/CCCCCC/FFFFFF/png?text=Error'; };
                    item.appendChild(img);
                    track.appendChild(item);
                });

                // Calcula el ancho para la animación dinámicamente basándose en el ancho del primer elemento
                // Esto asume que todas las imágenes tienen el mismo ancho definido en CSS para .carousel-item-collection
                // y que el primer elemento existe.
                const firstItem = track.querySelector(`.${itemClassName}`);
                const singleItemWidth = firstItem ? firstItem.offsetWidth : 250; // Valor predeterminado si no se encuentra
                const totalOriginalWidth = numImages * singleItemWidth;

                // Crea una hoja de estilos dinámica para actualizar la animación
                const styleId = `scrollRightToLeft-${trackId}-style`;
                let styleSheet = document.getElementById(styleId);
                if (!styleSheet) {
                    styleSheet = document.createElement("style");
                    styleSheet.id = styleId;
                    document.head.appendChild(styleSheet);
                }
                styleSheet.innerText = `
                    @keyframes scrollRightToLeft-${trackId} {
                        from { transform: translateX(0); }
                        to { transform: translateX(-${totalOriginalWidth}px); }
                    }
                    #${trackId} {
                        animation: scrollRightToLeft-${trackId} ${animationDuration}s linear infinite;
                    }
                `;
            }

            // URLs de imágenes para el carrusel de historia
            const historyImageUrls = [
                "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/01-historia-pablo-lulic.jpg",
                "https://placehold.co/400x300/82E0AA/000000?text=Historia+2",
                "https://placehold.co/400x300/58D68D/000000?text=Historia+3",
                "https://placehold.co/400x300/2ECC71/000000?text=Historia+4",
                "https://placehold.co/400x300/28B463/000000?text=Historia+5",
                "https://placehold.co/400x300/239B56/000000?text=Historia+6",
                "https://placehold.co/400x300/1D8348/000000?text=Historia+7",
                "https://placehold.co/400x300/186A3B/000000?text=Historia+8",
                "https://placehold.co/400x300/13522E/000000?text=Historia+9",
                "https://placehold.co/400x300/0E3E21/000000?text=Historia+10"
            ];

 // Llama a la función para cada carrusel con las URLs de imagen especificadas
            setupCarousel('aulasCarouselTrack', 'carousel-item-collection', ["https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-1.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-2.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-3.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-4.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-5.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-6.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-7.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-8.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-9.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-10.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-11.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-12.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-13.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-14.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-15.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-16.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-17.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-18.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-19.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/a-20.png"], 20, 40);
            setupCarousel('cienciasCarouselTrack', 'carousel-item-collection', ["https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-1.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-2.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-3.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-4.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-6.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-7.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-8.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-9.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-10.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-11.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-12.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-13.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-14.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-15.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-16.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-17.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-18.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-19.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-20.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/c-21.png"], 20, 40);
            setupCarousel('sociedadCarouselTrack', 'carousel-item-collection', ["https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-1.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-2.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-3.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-4.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-5.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-6.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-7.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-8.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-9.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-10.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-11.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-12.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-13.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-14.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-15.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-16.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-17.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-18.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-19.png", "https://www.edunlu.unlu.edu.ar/sites/www.edunlu.unlu.edu.ar/files/site/s-20.png"], 20, 40);
            setupCarousel('historyCarouselTrack', 'carousel-item-history', historyImageUrls, historyImageUrls.length, 30); // Mayor duración para la historia
        });

        // Lógica para la carta del director desplegable por click
        const directorLetterTrigger = document.getElementById('directorLetterTrigger');
        const collapsibleLetterContent = document.getElementById('collapsibleLetterContent');
        const arrowIcon = directorLetterTrigger.querySelector('.arrow-icon');

        if (directorLetterTrigger && collapsibleLetterContent && arrowIcon) {
            directorLetterTrigger.addEventListener('click', () => {
                collapsibleLetterContent.classList.toggle('is-open');
                arrowIcon.classList.toggle('rotated');
            });
        }
    </script>
</body>
</html>
